<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>脚本</title>
    <style>
        body {
            background-image: url('https://static.runoob.com/images/mix/gradient2.png');
            background-repeat: repeat-x;
            font-family: Arial, sans-serif;
            color: #333;
            margin: 20px;
        }
        .container {
            display: flex;               /* 使用 flexbox */
            flex-wrap: wrap;            /* 允许换行 */
            gap: 20px;                  /* 列间距 */
        }
        details {
            margin-bottom: 10px;        /* 为每个折叠区域添加间隔 */
            padding: 10px;
            border: 1px solid #ccc;     /* 为折叠区域添加边框 */
            border-radius: 5px;         /* 添加圆角 */
            background-color: #fff;     /* 背景颜色 */
            flex: 1 1 calc(33.333% - 20px); /* 设置宽度为三列 */
            box-sizing: border-box;     /* 包含边框和内边距 */
        }
        summary {
            cursor: pointer;             /* 鼠标悬停时显示为可点击 */
            font-weight: bold;           /* 使标题加粗 */
        }
    </style>
</head>
<body>
<h1 style="text-align: center;">脚本</h1>
    <div class="container">

        <details>
            <summary>ctrl+z挂起进程后fg命令可以恢复  重启wsl命令net stop LxssManager</summary>
            <!-- 这里可以添加更多说明或示例 -->
        </details>

        <details>
            <summary>vpn平常使用的命令</summary>
            <p>清屏: <code>reset</code></p>
            <p>查看操作系统: <code>cat /etc/os-release</code></p>
            <p>移动文件: <code>mv 要移动的文件 移动的位置</code></p>
            <p>重命名: <code>mv 'home - 副本' home</code></p>
            <p>复制: <code>cp -r home - 副本 home</code></p>

		
            <p>清空文件内容: <code>echo -n  > 文件名</code></p>
            <p>恢复ls命令: <code>unalias ls</code></p>
            <p>网络: <code>ifconfig</code></p>
            <p>拉取单个文件: <code>curl -L -O</code></p>
            <p>知道域名下的所有IP: <code>nslookup 你的域名</code></p>
            <p>权限命令chmod +x 脚本名</code></p>
            <p>创建文件夹命令: <code>mkdir 文件名</code></p>
            <p>搜索文件命令: <code>find / -name 文件名</code></p>
            <p>清除当前目录下空文件夹: <code>find -type d -empty -delete</code></p>
            <p>查看log日志: <code>tail -f 文件名</code></p>
	    <p>设置时间为上海: <code>date先查看当前时间然后ln -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime
echo "Asia/Shanghai" > /etc/timezone
</code></p>
            
        </details>

        <details>
            <summary>自用脚本</summary>
            <p><code>wget -N --no-check-certificate https://raw.githubusercontent.com/xyysjd/qiancheng.io/main/zi.sh && bash zi.sh</code></p>
        </details>

        <details>
            <summary>tmux多路后台会话功能</summary>
            <p>安装: <code>apt install -y tmux</code></p>
            <p>创建一个会话: <code>tmux new-session -s 想要的名字</code></p>
            <p>退出会话不中断: <code>Ctrl+b 然后 d</code></p>
            <p>重新进入会话: <code>tmux attach-session -t 自己取的名字</code></p>
            <p>查看所有tmux会话: <code>tmux list-sessions</code></p>
            <p>删除会话: <code>tmux kill-session -t 自己取的名字</code></p>
        </details>

        <details>
            <summary>crontab定时功能</summary>
            <p>查看当前用户的 crontab 文件： <code>crontab -l</code></p>
            <p>编辑当前用户的 crontab 文件： <code>crontab -e</code></p>
            <p>删除当前用户的 crontab 文件： <code>crontab -r</code></p>
        </details>
	    
        <details>
            <summary>更新系统环境</summary>
            <p><code>apt update -y && apt upgrade -y</code></p>
            <p>安装必备工具: <code>apt install -y curl wget sudo nodejs git</code></p>
        </details>

        <details>
            <summary>ufw防火墙命令</summary>
            <p>停止iptables服务：<code>systemctl stop iptables</code></p>
            <p>安装ufw服务：<code>apt install ufw</code></p>
	        <p>开机自启动UFW：<code>systemctl enable ufw</code></p>
            <p>启动 UFW： <code>ufw enable</code></p>
            <p>禁用 UFW： <code>ufw disable</code></p>
            <p>删除所有规则并恢复默认设置： <code>ufw reset</code></p>
            <p>允许某个端口的访问：<code>ufw allow 80</code></p>
	        <p>删除端口的规则：<code> ufw delete allow 80</code></p>
            <p>禁用ip和ip段：<code>ufw deny from 162.142.125.0/24</code></p>
            <p>查看当前已有的规则：<code>ufw status numbered</code></p>
            <p>根据编号删除：<code> ufw delete 编号 这个是删除单个的，注意删除的时候编号必须从大到小删除</code></p>
            <p>根据编号多个删除：<code> for i in 27 10 2; do yes | ufw delete $i; done 这个是删除多个的</code></p>		
            <p>按编号批量删除规则：<code>for i in {8..3}; do yes |  ufw delete $i; done这个意思就是3-8的编号全部删除</code></p>
        </details>

        <details>
            <summary>卸载软件包</summary>
            <p>卸载软件: <code>apt-get remove 包名</code></p>
            <p>卸载软件和配置文件: <code>apt-get purge 包名</code></p>
            <p>移除没有使用的依赖: <code>apt-get autoremove</code></p>
        </details>

        <details>
            <summary>xui魔改</summary>
            <p><code>wget -N --no-check-certificate https://raw.githubusercontent.com/xyysjdN/x-ui/main/install.sh && bash install.sh</code></p>
        </details>

        <details>
            <summary>编辑hosts文件</summary>
            <p><code>vi /etc/hosts</code> 在最后面添加 <code>127.0.0.1 www.baidu.com</code>，保存退出即可屏蔽百度。</p>
        </details>

        <details>
            <summary>修改DNS</summary>
        <p><code>vi /etc/resolv.conf</code> 添加 <code>nameserver 8.8.8.8</code>，保存退出即可修改默认的DNS。</p>
	    <p>脚本:<code>wget https://gitee.com/qiancheng666/dns/raw/master/dns.sh && bash dns.sh</code></p>
	    <p>锁定文件:<code>sudo chattr +i /etc/resolv.conf</code>在运行一遍就是解锁</p>
	    <p>查看文件是否锁定<code>lsattr /etc/resolv.conf</code>如果输出看到----i--------就说明是锁定</p>
	    <p>查看dns解析生效<code>nslookup www.baidu.com</code></p>
        </details>

        <details>
            <summary>去除Shell脚本的\r字符</summary>
            <p><code>sed -i 's/\r//' 脚本名</code></p>
        </details>

        <details>
            <summary>硬盘命令</summary>
            <p>查看硬盘占用命令: <code>du -h --max-depth=1 /</code></p>
            <p>查看当前目录下每个文件和文件夹的大小: <code>du -h * | sort -hr /</code></p>		
        </details>

        <details>
            <summary>压缩与解压</summary>
            <p>压缩: <code>tar -zcvf 压缩名.tar.gz 被压缩文件</code></p>
            <p>解压: <code>tar -zxvf 解压文件名.tar.gz</code></p>
	    <p>解压zip: <code>unzip 解压文件名 -d 解压到的文件夹</code></p>
        </details>

        <details>
            <summary>启动程序</summary>
            <p>启动程序: <code>systemctl start 程序名</code></p>
            <p>停止程序: <code>systemctl stop 程序名</code></p>			
            <p>重启程序: <code>systemctl reload 程序名</code></p>
            <p>查看运行状态: <code>systemctl status 程序名</code></p>
            <p>设置为开机自启: <code>systemctl enable 程序名</code></p>
        </details>

        <details>
            <summary>流量工具</summary>
            <p><code>nethogs</code> --- 交互式命令</p>
            <p><code>-m</code>: 修改单位</p>
            <p><code>-r</code>: 按流量排序</p>
            <p><code>-s</code>: 按发送流量排序</p>
            <p><code>-q</code>: 退出命令提示符</p>
        </details>

        <details>
            <summary>docker命令</summary>
            <p>进入容器命令: <code>docker exec -it 容器名 /bin/bash</code></p>
            <p>退出容器: <code>Ctrl-D</code></p>
            <p>查看容器位置: <code>docker inspect 容器名 </code></p>
            <p>查看当前路径: <code>pwd</code></p>
            <p>清除日志: <code>echo "" > $(docker inspect --format='{{.LogPath}}' 容器名)</code></p>
		<p>删除所有未使用的镜像、容器、数据卷和网络: <code>docker system prune --all --volumes --force</code></p>
	        <p>docker-compose更新: <code>docker-compose pull</code></p>	
	        <p>docker-compose运行: <code>docker-compose up -d</code></p>
        </details>

        <details>
            <summary>查看端口占用命令</summary>
            <p><code>netstat -tnlp</code> 或者使用 <code>lsof -i:端口号</code></p>
            <p>查看单独应用线程: <code>ps -aux | grep 应用名字</code></p>
            <p>查看cpu线程占用命令: <code>top</code> 和 <code>ps aux --sort=-pcpu | head -10</code> 或者 <code>pstree -up</code></p>
            <p>杀死线程命令: 如果你的线程ID是 <code>5645646</code>，那么可以执行：<code>kill -9 5645646</code></p>            
        </details>

        <details>
            <summary>关闭端口转发</summary>
            <p><code>bash <(wget --no-check-certificate -qO- 'https://raw.githubusercontent.com/xyysjd/qiancheng.io/main/gost2.sh') stop 端口</code></p>
        </details>

        <details>
            <summary>使用API获取网站favicon</summary>
            <p>Google的API: <code>https://www.google.com/s2/favicons?domain=要获取的域名</code></p>
            <p>The Favicon Finder 的 API: <code>https://besticon-demo.herokuapp.com/icon?url=google.com&size=80..120..200</code></p>
        </details>

        <details>
            <summary>链接</summary>
            <p><a href="https://keesenz.com/2022/1833.html">青龙修复命令</a></p>
            <p><a href="反代.txt">宝塔反代</a></p>
            <p><a href="https://blog.csdn.net/weixin_44162809/article/details/117705055">宝塔跳过手机号</a></p>
            <p><a href="https://blog.csdn.net/qq_32447301/article/details/79387649/">Docker删除容器与镜像</a></p>
            <p><a href="https://blog.csdn.net/EasternUnbeaten/article/details/80463837">Docker重启命令</a></p>
        </details>
    </div>
</body>
</html>
